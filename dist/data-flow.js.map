{"version":3,"file":"data-flow.js","sources":["../src/inspect.js","../src/bound-element.js","../src/bind.js","../src/find-by-path.js","../src/data-source.js","../src/renderer.js","../src/data-flow.js","../src/index.js"],"sourcesContent":["export default {\r\n      isObject: isObject,\r\n      isString: isString,\r\n      isUndefined: isUndefined\r\n};\r\n\r\nfunction isObject(val) {\r\n    return typeof val === \"object\";\r\n}\r\n\r\nfunction isString(val) {\r\n    return typeof val === \"string\";\r\n}\r\n\r\nfunction isUndefined(val) {\r\n    return typeof val === \"undefined\";\r\n}\r\n","import inspect from './inspect';\r\n\r\nexport var noop = function() {};\r\n\r\nexport default function BoundElement(config) {\r\n    this.element = inspect.isString(config.to) ? document.querySelectorAll(config.to) : config.to;\r\n    this.multiple = config.multiple || this.element.length > 1;\r\n    this.renderer = config.renderer;\r\n\r\n    if (!this.multiple && this.element.length) {\r\n        this.element = this.element[0];\r\n    }\r\n\r\n    this.dataSource = config.dataSource;\r\n    this.path = config.path;\r\n    this.as = config.as || 'text';\r\n    this._bound = true;\r\n    this._boundHandler = this.update.bind(this);\r\n    this.dataSource.bindHandler(this._boundHandler);\r\n\r\n    this.onBind = config.onBind || noop;\r\n    this.onUpdate = config.onUpdate || noop;\r\n    this.onUnbind = config.onUnbind || noop;\r\n    this.onAfterRender = config.onAfterRender || noop;\r\n\r\n    this.onBind.call(this.element, this);\r\n    this.updateDisabled = config.updateDisabled || false;\r\n    this.update();\r\n}\r\n\r\nBoundElement.prototype.getValue = getValue;\r\nBoundElement.prototype.setValue = setValue;\r\nBoundElement.prototype.run = run;\r\nBoundElement.prototype.update = update;\r\nBoundElement.prototype.unbind = unbind;\r\n\r\nfunction getValue(defaultValue) {\r\n    return this.dataSource.get(this.path, defaultValue);\r\n}\r\n\r\nfunction setValue(value) {\r\n    if (!this._bound) {\r\n        throw new Error('Cannot call setValue of unbound instance.');\r\n    }\r\n    this.dataSource.set(this.path, value);\r\n}\r\n\r\nfunction update() {\r\n    if (this.updateDisabled) {\r\n       return;\r\n    }\r\n\r\n    this.onUpdate.call(this.element, this.getValue(), this);\r\n    this.renderer.render(this);\r\n}\r\n\r\nfunction unbind() {\r\n    this._bound = false;\r\n    this.dataSource.unbindHandler(this._boundHandler);\r\n    this.onUnbind.call(this.element, this);\r\n}\r\n\r\nfunction run(callback) {\r\n   callback.call(this, this.getValue());\r\n   this.dataSource.update();\r\n}\r\n","import BoundElement from './bound-element';\r\n\r\nexport default function bind(renderer, dataSource, config) {\r\n    if (Array.isArray(config)) {\r\n        return bindArray(renderer, dataSource, config);\r\n    }\r\n\r\n    return bindSingle(renderer, dataSource, config);\r\n}\r\n\r\nfunction bindArray(renderer, dataSource, items) {\r\n  var results = [];\r\n  for(var i = 0; i < items.length; i++) {\r\n      results.push(bindSingle(renderer, dataSource, items[i]));\r\n  }\r\n\r\n  return results;\r\n}\r\n\r\nfunction bindSingle(renderer, dataSource, config) {\r\n  if (!config.dataSource) {\r\n      config.dataSource = dataSource;\r\n  }\r\n\r\n  if (!config.renderer) {\r\n      config.renderer = renderer;\r\n  }\r\n\r\n  return new BoundElement(config);\r\n}\r\n","import inspect from './inspect';\r\n\r\nexport default function findByPath(object, path, createPathIfEmpty) {\r\n   if (!path) {\r\n      return {\r\n          result: object,\r\n          path: null\r\n      };\r\n   }\r\n\r\n   if (path in object) {\r\n       return {\r\n         result: object,\r\n         path: path\r\n       };\r\n   }\r\n\r\n   var parts = path.split('.');\r\n   var walker = object;\r\n\r\n   for(var i = 0; i < parts.length - 1; i++) {\r\n      var part = parts[i];\r\n\r\n      if (!(part in walker)) {\r\n        if (!createPathIfEmpty) {\r\n            return {\r\n               result: walker,\r\n               path: null\r\n            };\r\n        } else {\r\n            walker[part] = {};\r\n        }\r\n     }\r\n\r\n      if (i < parts.length - 1 && !inspect.isObject(walker[part])) {\r\n          var partName = parts.slice(0, i + 1).join('.');\r\n          throw new Error('Cannot traverse data in path ' + partName + ' since part of it is not an object.');\r\n      }\r\n\r\n      walker = walker[part];\r\n   }\r\n\r\n   return {\r\n      result: walker,\r\n      path: parts[parts.length - 1]\r\n   };\r\n}\r\n","import findByPath from './find-by-path';\r\n\r\nexport default DataSource;\r\n\r\nfunction DataSource(data) {\r\n    this._data = data || {};\r\n    this._bound = true;\r\n    this.handlers = [];\r\n}\r\n\r\nDataSource.prototype.set = setValue;\r\nDataSource.prototype.get = getValue;\r\nDataSource.prototype.run = run;\r\nDataSource.prototype.update = update;\r\nDataSource.prototype.unbind = unbind;\r\nDataSource.prototype.bindHandler = bindHandler;\r\nDataSource.prototype.unbindHandler = unbindHandler;\r\n\r\nfunction getValue(name, defaultValue) {\r\n    var item = findByPath(this._data, name);\r\n\r\n    if (item.path) {\r\n        return item.result.hasOwnProperty(item.path) ? item.result[item.path] : defaultValue;\r\n    }\r\n\r\n    return defaultValue;\r\n}\r\n\r\nfunction setValue(name, value) {\r\n    if (!this._bound) {\r\n        throw new Error('Cannot call setValue of unbound instance.');\r\n    }\r\n    var pathObject = findByPath(this._data, name, true);\r\n    pathObject.result[pathObject.path] = value;\r\n    this.update();\r\n}\r\n\r\nfunction update() {\r\n    for(var i = 0; i < this.handlers.length; i++) {\r\n       this.handlers[i].call(this);\r\n    }\r\n}\r\n\r\nfunction bindHandler(callback) {\r\n    if (this.handlers.indexOf(callback) === -1) {\r\n        this.handlers.push(callback);\r\n    }\r\n}\r\n\r\nfunction unbindHandler(callback) {\r\n    if (this.handlers.indexOf(callback) !== -1) {\r\n        this.handlers.splice(this.handlers.indexOf(callback), 1);\r\n    }\r\n}\r\n\r\nfunction unbind() {\r\n    this.handlers = [];\r\n    this._bound = false;\r\n}\r\n\r\nfunction run(callback) {\r\n   callback.call(this, this._data);\r\n   this.update();\r\n}\r\n","var staticRenderers = {};\r\n\r\nexport default function Renderer() {\r\n   this.renderers = {};\r\n   setupInitialRenderers(this);\r\n}\r\n\r\nRenderer.prototype.render = render;\r\nRenderer.prototype.set = setRenderer;\r\nRenderer.prototype.runOnBoundElement = runOnBoundElement;\r\n\r\nRenderer.setStaticRenderer = function(name, callback) {\r\n    staticRenderers[name] = callback;\r\n};\r\n\r\nfunction render(boundElement) {\r\n   var rendererName = boundElement.as;\r\n\r\n   if (typeof rendererName === \"function\") {\r\n      runOnBoundElement(rendererName, boundElement);\r\n      return;\r\n   }\r\n\r\n   if (!(rendererName in this.renderers)) {\r\n      throw new Error('Unknown renderer: ' + rendererName);\r\n   }\r\n\r\n   this.renderers[rendererName](boundElement);\r\n}\r\n\r\nfunction setRenderer(name, callback) {\r\n   this.renderers[name] = runOnBoundElement.bind(this, callback);\r\n}\r\n\r\nfunction getDefaultRenderers() {\r\n  return {\r\n      html: function(boundElement, forElement) {\r\n          forElement.innerHTML = String(boundElement.getValue());\r\n      },\r\n      text: function(boundElement, forElement) {\r\n          forElement.textContent = String(boundElement.getValue());\r\n      }\r\n  };\r\n}\r\n\r\nfunction runOnBoundElement(callback, boundElement) {\r\n    if (boundElement.multiple) {\r\n        for(var i = 0; i < boundElement.element.length; i++) {\r\n            callback(boundElement, boundElement.element[i]);\r\n        }\r\n    } else {\r\n        callback(boundElement, boundElement.element);\r\n    }\r\n\r\n    boundElement.onAfterRender.call(boundElement.element, boundElement);\r\n}\r\n\r\nfunction setupInitialRenderers(instance) {\r\n    var renderers = getDefaultRenderers();\r\n    for(var name in renderers) {\r\n        instance.set(name, renderers[name]);\r\n    }\r\n\r\n    for(var name in staticRenderers) {\r\n        if (staticRenderers.hasOwnProperty(name)) {\r\n            instance.set(name, staticRenderers[name]);\r\n        }\r\n    }\r\n}\r\n","import bindFn from './bind';\r\nimport BoundElement from './bound-element';\r\nimport DataSource from './data-source';\r\nimport Renderer from './renderer';\r\n\r\nfunction DataFlow(dataSource, renderer) {\r\n  renderer = renderer instanceof Renderer ? renderer : new Renderer();\r\n  dataSource = dataSource instanceof DataSource ? dataSource : new DataSource(dataSource);\r\n\r\n  dataSource.bind = bindFn.bind(dataSource, renderer, dataSource);\r\n  dataSource.renderer = renderer;\r\n\r\n  return dataSource;\r\n};\r\n\r\nDataFlow.bind = bindFn;\r\nDataFlow.BoundElement = BoundElement;\r\nDataFlow.DataSource = DataSource;\r\nDataFlow.Renderer = Renderer;\r\n\r\nexport default DataFlow;\r\n","import DataFlow from './data-flow';\r\n\r\nwindow.DataFlow = DataFlow;\r\n"],"names":["setValue","getValue","run","update","unbind","bindFn"],"mappings":"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"}